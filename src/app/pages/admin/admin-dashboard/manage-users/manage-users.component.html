<div class="container-fluid">
    <div class="d-flex justify-content-between">
        <h2 class="mb-5">Your Users</h2>
        <div>
            <button (click)="openCreateGuestModal()" mat-raised-button color="primary">
                <span>Add new user</span>&nbsp;
                <mat-icon>person_add</mat-icon>
            </button>
        </div>
    </div>

    <h3>Organization Members</h3>

    <table
        *ngIf="organizationMembers?.length > 0"
        mat-table
        [dataSource]="organizationMembers"
        class="mat-elevation-z3 w-100"
    >
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>ID</th>
            <td mat-cell *matCellDef="let orgMember">{{ orgMember.id }}</td>
        </ng-container>
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let orgMember">{{ orgMember.name }}</td>
        </ng-container>
        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef="let orgMember">{{ orgMember.email }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsForOrgMembers"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsForOrgMembers"></tr>
    </table>
    <ng-container *ngIf="organizationMembers.length === 0">
        <div>
            <span style="color: red">No members for this organization</span>
        </div>
    </ng-container>

    <h3 class="mt-3">Guests</h3>

    <table *ngIf="guests?.length > 0" mat-table [dataSource]="guests" class="mat-elevation-z3 w-100">
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>ID</th>
            <td mat-cell *matCellDef="let guest">{{ guest.id }}</td>
        </ng-container>
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let guest">{{ guest.name }}</td>
        </ng-container>
        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef="let guest">{{ guest.email }}</td>
        </ng-container>

        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef>Action</th>
            <td mat-cell *matCellDef="let guest">
                <button (click)="deleteGuest(guest)" mat-raised-button color="warn">Delete</button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsForGuests"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsForGuests"></tr>
    </table>
    <ng-container *ngIf="guests.length === 0">
        <div>
            <span style="color: red">No guests for this organization</span>
        </div>
    </ng-container>
</div>
